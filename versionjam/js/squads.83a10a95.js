(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["squads"],{"3b67":function(e,s,t){"use strict";var n=t("dfd2"),i=t.n(n);i.a},"456d":function(e,s,t){var n=t("4bf8"),i=t("0d58");t("5eda")("keys",function(){return function(e){return i(n(e))}})},"5dbc":function(e,s,t){var n=t("d3f4"),i=t("8b97").set;e.exports=function(e,s,t){var r,a=s.constructor;return a!==t&&"function"==typeof a&&(r=a.prototype)!==t.prototype&&n(r)&&i&&i(e,r),e}},"5eda":function(e,s,t){var n=t("5ca1"),i=t("8378"),r=t("79e5");e.exports=function(e,s){var t=(i.Object||{})[e]||Object[e],a={};a[e]=s(t),n(n.S+n.F*r(function(){t(1)}),"Object",a)}},6752:function(e,s,t){"use strict";var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",{staticClass:"squad"},[t("div",{staticClass:"icon squad"}),e.showStatus?t("div",{class:["status",e.squad.status]},["mission"===e.squad.status?t("div",[t("p",[e._v("Mission")]),t("span",{staticClass:"time"},[e._v(e._s(e.getSquadMissionTimeLeft(e.squad)))])]):"missionSuccess"===e.squad.status?t("div",{on:{click:function(s){e.missionResume()}}},[t("p",[e._v("Mission accomplie")])]):"missionFail"===e.squad.status?t("div",{on:{click:function(s){e.missionResume()}}},[t("div",{staticClass:"icon fail"})]):"dead"===e.squad.status?t("div",{on:{click:function(s){e.missionResume()}}},[t("div",{staticClass:"icon dead"})]):t("div",[t("p",[t("router-link",{attrs:{to:"mission/"+e.indexSquad}},[e._v("Nouvelle mission")])],1)])]):e._e(),t("span",{staticClass:"name"},[e._v("Escouade "+e._s(e.getSquadName(e.indexSquad)))]),t("p",{staticClass:"level"},[e._v("Niveau de compétence: "+e._s(e.squad.level))])])},i=[],r=(t("c5f6"),t("b05b")),a=t("7a51"),o=t("7de0"),u={name:"Squad",props:{showStatus:{type:Boolean,default:!1},indexSquad:Number},data:function(){return{t:Date.now()}},computed:{squad:function(){return o["m"].squads[this.indexSquad]}},methods:{getSquadName:function(e){return r["b"][e]},formatTime:r["c"],getSquadMissionTimeLeft:function(e){if(!e.missionEndTime)return"";var s=e.missionEndTime-this.t;return s<=0&&Object(a["b"])(e),Object(r["c"])(s)},missionResume:function(){this.$router.push("/mission-resume/"+this.indexSquad)}},created:function(){var e=this;this.tInterval=setInterval(function(){e.t=Date.now()},1e3)},destroyed:function(){clearInterval(this.tInterval)}},c=u,d=(t("c827"),t("2877")),l=Object(d["a"])(c,n,i,!1,null,"0c8d46da",null);l.options.__file="Squad.vue";s["a"]=l.exports},"6b17":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"squads"}},[t("h1",[e._v("Missions")]),t("ul",e._l(e.squads,function(e,s){return t("Squad",{key:s,attrs:{indexSquad:s,showStatus:!0}})})),0===e.squads.length?[t("h1",[e._v("Aucune escouade sous vos ordres")]),t("p",[e._v("Vous avez besoin de troupes pour récupérer les ressources nécessaires à l'avancement du projet Odyssée")])]:e._e()],2)},i=[],r=t("6752"),a=t("7de0"),o={name:"Squads",components:{Squad:r["a"]},data:function(){return{squads:a["m"].squads}},methods:{}},u=o,c=(t("3b67"),t("2877")),d=Object(c["a"])(u,n,i,!1,null,null,null);d.options.__file="Squads.vue";s["default"]=d.exports},"7a51":function(e,s,t){"use strict";t.d(s,"e",function(){return o}),t.d(s,"b",function(){return u}),t.d(s,"c",function(){return c}),t.d(s,"a",function(){return d}),t.d(s,"d",function(){return m});t("456d"),t("ac6a"),t("f751"),t("cadf"),t("551c"),t("097d");var n=t("025e"),i=t("7de0"),r=t("b3fb"),a=t("c75d"),o=function(e,s,t){e.status="mission",e.mission=s;var n=(s.distance+t)*i["m"].missionTimeFactor*1e3*10;e.missionDuree=t,e.missionEndTime=Date.now()+n,e.missionDifficulty=(s.level+i["m"].currentEpoch)*(5+t)/5,Object(a["c"])("MissionStarted")},u=function(e){delete e.missionEndTime;var s=(4+e.level)/(5+e.missionDifficulty);if(e.missionResult={probaSuccess:s,resume:[],levelGain:0},Math.random()<=s)e.status="missionSuccess",e.missionResult.levelGain+=1,e.missionResult.resume.push(Object(n["d"])(["Aucune activité à signaler","Comme sur des roulettes","Un vrai jeu d'enfant"])),Object(n["c"])(3)&&(e.missionResult.resume.push("On a trouvé des armes pour mieux se défendre lors des prochaines missions."),e.missionResult.levelGain+=Object(n["e"])(1,2)),Object(n["c"])(8)&&(e.missionResult.resume.push("On a trouvé des rescapés prêts à rejoindre nos rangs"),e.missionResult.levelGain+=Object(n["e"])(2,4)),Object(n["c"])(2)&&e.mission.squad&&(e.missionResult.resume.push(Object(n["d"])(["On a trouvé des rescapés prêts à rejoindre nos rangs.","Certains hommes se sont dit prêts à se battre pour nous.","Quelques bras cassés tiennent à nous aider, peut-être on en fera quelque-chose..."])),e.missionResult.squad=Object(n["e"])(1,e.mission.squad)),Object(n["c"])(3)&&e.mission.scientific&&(e.missionResult.resume.push(Object(n["d"])(["Ces scientifiques se cachaient sous les tables quand on est arrivés. Ils disent qu'ils peuvent nous aider.","On a trouvé plusieurs barbus en blouse là-bas. Ils pourraient aider au projet.","Des matheux estiment notre probabilité de survivre à 12%, mais prétendent qu'elles montent à 93% si on les emmène avec nous."])),e.missionResult.scientific=Object(n["e"])(e.mission.scientific-3,e.mission.scientific)),e.missionResult.ressources=l(e.mission.ressources,e.missionDuree,s);else{var t=.5*(1-s);Math.random()<=t?(e.status="dead",e.missionResult.resume.push(Object(n["d"])(["Nous avons perdu le contact avec l'escouade. Aucune idée de ce qu'ils sont devenus","Cette secte a lavé le cerveau de la moitié de l'équipe. Les autres ont été abattus par leur gourou.","Un groupe armé local a tendu une embuscade à l'escouade. Il n'y a aucun survivant."]))):(e.status="missionFail",e.missionResult.resume.push(Object(n["d"])(["Une bande armée nous est tombée dessus. On a rien pu faire pour garder le stock","Les gens sont fous. Dès qu'ils ont vu notre stock, ils se sont rués sur nous. On a du fuir avant qu'il y ait des morts.","L'endroit était occupé par trop de forces hostiles, impossible de s'en rapprocher."])))}},c=function(e){switch(delete e.mission,e.status){case"missionSuccess":Object(a["c"])("MissionComplete"),Object(r["a"])(e.missionResult.ressources),e.level+=e.missionResult.levelGain,e.missionResult.squad&&i["m"].squads.push({level:e.missionResult.squad,status:"idle"}),e.missionResult.scientific&&i["m"].scientifics.push({level:e.missionResult.scientific,status:"idle"}),e.status="idle";break;case"missionFail":Object(a["c"])("MissionAborted"),e.level=Math.max(1,e.level-Object(n["e"])(1,3)),e.status="idle";break;case"dead":Object(a["c"])("MissionFailed"),i["m"].squads.splice(i["m"].squads.indexOf(e),1);break}delete e.missionResult},d=function(e,s){return e?{water:Math.ceil((e.distance+s)*i["m"].ressourcesConsumptionFactor.water),food:Math.ceil((e.distance+s)/2*i["m"].ressourcesConsumptionFactor.food),fuel:Math.ceil(e.distance*i["m"].ressourcesConsumptionFactor.fuel)}:{}},l=function(e,s,t){if(!e)return{};var i=Object.assign({},e),r=Math.max(1,.25*(1+s)*t);return Object.keys(i).forEach(function(e){var t=Math.round(i[e]*r+.8*Object(n["e"])(-s,s));i[e]=Math.max(0,i[e]+t)}),i},m=[{name:"Résidence abandonnée",description:"Cette vieille maison juste à côté doit sûrement contenir quelques ressources utiles",level:1,distance:0,ressources:{food:3,water:5,metal:1,component:1}},{name:"Décharge",description:"Récupérez le métal et les composants utiles, et siphonnez tous les véhicules que vous trouvez",level:3,distance:1,ressources:{fuel:5,metal:10,component:5,battery:2}},{name:"Supermarché",description:"En espérant que ce supermarché n'a pas encore été complètement pillé",level:5,distance:3,ressources:{food:10,water:15,fuel:10,component:3,battery:3}},{name:"Université",description:"L'université est assez loin d'ici, mais notre meilleure chance de recruter des cerveaux",level:8,distance:8,ressources:{food:4,water:4,component:2},scientific:6},{name:"Prison",description:"Il nous faut un maximum d'hommes prêts à tout. Des prisonniers seraient prêts à nous aider si on leur promet une voie de sortie à ce merdier.",level:10,distance:6,ressources:{metal:2,food:4,water:4},squad:5},{name:"Centrale nucléaire",description:"Avec les fuites radioactives, c'est probablement un voyage en aller simple. Mais il nous faut absolument ce plutonium !",level:15,distance:5,ressources:{metal:4,component:5,battery:4,plutonium:3},scientific:10}]},"8b97":function(e,s,t){var n=t("d3f4"),i=t("cb7c"),r=function(e,s){if(i(e),!n(s)&&null!==s)throw TypeError(s+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,s,n){try{n=t("9b43")(Function.call,t("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),s=!(e instanceof Array)}catch(e){s=!0}return function(e,t){return r(e,t),s?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:r}},"8cd6":function(e,s,t){},aa77:function(e,s,t){var n=t("5ca1"),i=t("be13"),r=t("79e5"),a=t("fdef"),o="["+a+"]",u="​",c=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),l=function(e,s,t){var i={},o=r(function(){return!!a[e]()||u[e]()!=u}),c=i[e]=o?s(m):a[e];t&&(i[t]=c),n(n.P+n.F*o,"String",i)},m=l.trim=function(e,s){return e=String(i(e)),1&s&&(e=e.replace(c,"")),2&s&&(e=e.replace(d,"")),e};e.exports=l},b3fb:function(e,s,t){"use strict";t.d(s,"b",function(){return r}),t.d(s,"d",function(){return a}),t.d(s,"a",function(){return o}),t.d(s,"c",function(){return u});var n=t("9393"),i=(t("ac6a"),t("ffc1"),t("7de0")),r=function(e){return Object.entries(e).every(function(e){var s=Object(n["a"])(e,2),t=s[0],r=s[1];return i["m"].ressources[t]>=r})},a=function(e){Object.entries(e).forEach(function(e){var s=Object(n["a"])(e,2),t=s[0],r=s[1];i["m"].ressources[t]-=r})},o=function(e){Object.entries(e).forEach(function(e){var s=Object(n["a"])(e,2),t=s[0],r=s[1];i["m"].ressources[t]+=r})},u={water:{name:"Eau",description:"consommée par les équipes ou utilisée en laboratoire"},food:{name:"Nourriture",description:"il faut bien nourrir tous les gens de cette base"},fuel:{name:"Carburant",description:"nécessaire au déplacement des escouades"},metal:{name:"Métaux",description:"matière première composant de nombreux objets"},battery:{name:"Batteries",description:"alimentation de nombreux appareils et énergie de secours"},component:{name:"Composants",description:"sert à la fabrication d'appareils plus ou moins complexes"},plutonium:{name:"Plutonium",description:"carburant principal des réacteurs"}}},c5f6:function(e,s,t){"use strict";var n=t("7726"),i=t("69a8"),r=t("2d95"),a=t("5dbc"),o=t("6a99"),u=t("79e5"),c=t("9093").f,d=t("11e9").f,l=t("86cc").f,m=t("aa77").trim,f="Number",p=n[f],v=p,b=p.prototype,h=r(t("2aeb")(b))==f,q="trim"in String.prototype,O=function(e){var s=o(e,!1);if("string"==typeof s&&s.length>2){s=q?s.trim():m(s,3);var t,n,i,r=s.charCodeAt(0);if(43===r||45===r){if(t=s.charCodeAt(2),88===t||120===t)return NaN}else if(48===r){switch(s.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+s}for(var a,u=s.slice(2),c=0,d=u.length;c<d;c++)if(a=u.charCodeAt(c),a<48||a>i)return NaN;return parseInt(u,n)}}return+s};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var s=arguments.length<1?0:e,t=this;return t instanceof p&&(h?u(function(){b.valueOf.call(t)}):r(t)!=f)?a(new v(O(s)),t,p):O(s)};for(var j,_=t("9e1e")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;_.length>S;S++)i(v,j=_[S])&&!i(p,j)&&l(p,j,d(v,j));p.prototype=b,b.constructor=p,t("2aba")(n,f,p)}},c827:function(e,s,t){"use strict";var n=t("8cd6"),i=t.n(n);i.a},dfd2:function(e,s,t){},fdef:function(e,s){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=squads.83a10a95.js.map