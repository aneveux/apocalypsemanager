(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["project"],{"07bd":function(e,t,i){"use strict";i.r(t);var c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.scientific?i("div",{attrs:{id:"project"}},[i("ul",[i("Scientific",{attrs:{indexScientific:e.indexScientific}})],1),i("h1",[e._v("Projets de recherche")]),i("ul",e._l(e.projects,function(t,c){return e.selectedProject&&e.selectedProject!==t?e._e():i("li",{key:c,class:["project",{done:e.isProjectDone(t)}],on:{click:function(i){e.selectProject(t)}}},[i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e.selectedProject===t?i("p",{staticClass:"description"},[e._v(e._s(t.description))]):e._e(),i("ul",{staticClass:"gains"},e._l(t.gains,function(t,c){return i("li",{key:c},[i("p",[e._v(e._s(t.description))])])})),i("p",{class:["level",{insufficient:t.level>e.scientific.level}]},[e._v("\n              Niveau de compétence requis:\n              "),i("span",[e._v(e._s(t.level))])])])})),e.selectedProject?[i("h1",[e._v("Durée du projet de recherche")]),i("div",{staticClass:"params"},[i("span",{staticClass:"duree"},[e._v(e._s(e.dureeProject)+" h")]),i("p",{staticClass:"ressources"},[e._v("Ressources requises:\n            "),i("ul",e._l(e.selectedProject.ressources,function(t,c){return i("li",{key:c,class:{insufficient:!e.hasRessources((n={},n[c]=t,n))}},[t>0?[e._v("\n                      "+e._s(t)+" "),i("div",{class:["icon",c]})]:e._e()],2);var n}))])]),e.hasRessources(e.requiredRessources)?e.scientific.level<e.selectedProject.level?i("div",{staticClass:"action disabled"},[i("a",[e._v("Niveau insuffisant")])]):e.canStartProject?i("div",{staticClass:"action"},[i("a",{on:{click:function(t){e.startProject()}}},[e._v("Démarrer le projet")])]):e._e():i("div",{staticClass:"action disabled"},[i("a",[e._v("Ressources insuffisantes")])])]:e._e()],2):e._e()},n=[],s=(i("7f7f"),i("6762"),i("2fdb"),i("2f8f")),r=i("1210"),o=i("b3fb"),a=i("7de0"),u=i("b05b"),f={name:"Project",components:{Scientific:s["a"]},data:function(){return{projects:r["d"],selectedProject:null}},computed:{indexScientific:function(){return parseInt(this.$route.params.indexScientific)},canStartProject:function(){return this.selectedProject&&!this.isProjectDone(this.selectedProject)&&Object(o["b"])(this.requiredRessources)&&this.scientific.level>=this.selectedProject.level},requiredRessources:function(){return Object(r["a"])(this.selectedProject)},scientific:function(){return a["m"].scientifics[this.indexScientific]},dureeProject:function(){return Object(u["c"])(1e3*this.selectedProject.duree*a["m"].researchTimeFactor*a["m"].speed)}},methods:{hasRessources:o["b"],selectProject:function(e){this.isProjectDone(e)||(this.selectedProject?this.selectedProject=null:this.selectedProject=e)},startProject:function(){Object(o["d"])(this.selectedProject.ressources),Object(r["e"])(this.scientific,this.selectedProject),this.$router.push("/scientifics")},isProjectDone:function(e){return a["m"].projectsDone.includes(e.name)&&!e.infinite}}},l=f,d=(i("d5f7"),i("2877")),p=Object(d["a"])(l,c,n,!1,null,"26788c67",null);p.options.__file="Project.vue";t["default"]=p.exports},"0b54":function(e,t,i){},1092:function(e,t,i){},"2f8f":function(e,t,i){"use strict";var c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"scientific"},[i("div",{staticClass:"icon scientific"}),e.showStatus?i("div",{class:["status",e.scientific.status]},["project"===e.scientific.status?i("div",[i("p",[e._v("Projet")]),i("span",{staticClass:"time"},[e._v(e._s(e.getProjectTimeLeft(e.scientific)))])]):"projectFinish"===e.scientific.status?i("div",{on:{click:function(t){e.endProject()}}},[i("p",[e._v("Projet terminé")])]):i("div",[i("p",[i("router-link",{attrs:{to:"project/"+e.indexScientific}},[e._v("Nouveau projet")])],1)])]):e._e(),i("span",{staticClass:"name"},[e._v("Équipe "+e._s(e.getScientificName(e.indexScientific)))]),i("p",{staticClass:"level"},[e._v("Niveau de compétence: "+e._s(e.scientific.level))])])},n=[],s=(i("c5f6"),i("b05b")),r=i("7de0"),o=i("1210"),a={name:"Scientific",props:{showStatus:{type:Boolean,default:!1},indexScientific:Number},data:function(){return{t:Date.now()}},computed:{scientific:function(){return r["m"].scientifics[this.indexScientific]}},methods:{getScientificName:function(e){return s["a"][e]},formatTime:s["c"],getProjectTimeLeft:function(e){if(!e.projectEndTime)return"";var t=e.projectEndTime-this.t;return t<=0&&(e.status="projectFinish",delete e.projectEndTime),Object(s["c"])(t)},endProject:function(){Object(o["b"])(this.scientific),this.$router.push("/project-resume/"+this.indexScientific)}},created:function(){var e=this;this.tInterval=setInterval(function(){e.t=Date.now()},1e3)},destroyed:function(){clearInterval(this.tInterval)}},u=a,f=(i("bbf4"),i("2877")),l=Object(f["a"])(u,c,n,!1,null,"fd440646",null);l.options.__file="Scientific.vue";t["a"]=l.exports},"5dbc":function(e,t,i){var c=i("d3f4"),n=i("8b97").set;e.exports=function(e,t,i){var s,r=t.constructor;return r!==i&&"function"==typeof r&&(s=r.prototype)!==i.prototype&&c(s)&&n&&n(e,s),e}},"8b97":function(e,t,i){var c=i("d3f4"),n=i("cb7c"),s=function(e,t){if(n(e),!c(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,c){try{c=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),c(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return s(e,i),t?e.__proto__=i:c(e,i),e}}({},!1):void 0),check:s}},aa77:function(e,t,i){var c=i("5ca1"),n=i("be13"),s=i("79e5"),r=i("fdef"),o="["+r+"]",a="​",u=RegExp("^"+o+o+"*"),f=RegExp(o+o+"*$"),l=function(e,t,i){var n={},o=s(function(){return!!r[e]()||a[e]()!=a}),u=n[e]=o?t(d):r[e];i&&(n[i]=u),c(c.P+c.F*o,"String",n)},d=l.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(f,"")),e};e.exports=l},b3fb:function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"d",function(){return r}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return a});var c=i("9393"),n=(i("ac6a"),i("ffc1"),i("7de0")),s=function(e){return Object.entries(e).every(function(e){var t=Object(c["a"])(e,2),i=t[0],s=t[1];return n["m"].ressources[i]>=s})},r=function(e){Object.entries(e).forEach(function(e){var t=Object(c["a"])(e,2),i=t[0],s=t[1];n["m"].ressources[i]-=s})},o=function(e){Object.entries(e).forEach(function(e){var t=Object(c["a"])(e,2),i=t[0],s=t[1];n["m"].ressources[i]+=s})},a={water:{name:"Eau",description:"consommée par les équipes ou utilisée en laboratoire"},food:{name:"Nourriture",description:"il faut bien nourrir tous les gens de cette base"},fuel:{name:"Carburant",description:"nécessaire au déplacement des escouades"},metal:{name:"Métaux",description:"matière première composant de nombreux objets"},battery:{name:"Batteries",description:"alimentation de nombreux appareils et énergie de secours"},component:{name:"Composants",description:"sert à la fabrication d'appareils plus ou moins complexes"},plutonium:{name:"Plutonium",description:"carburant principal des réacteurs"}}},bbf4:function(e,t,i){"use strict";var c=i("1092"),n=i.n(c);n.a},c5f6:function(e,t,i){"use strict";var c=i("7726"),n=i("69a8"),s=i("2d95"),r=i("5dbc"),o=i("6a99"),a=i("79e5"),u=i("9093").f,f=i("11e9").f,l=i("86cc").f,d=i("aa77").trim,p="Number",v=c[p],j=v,m=v.prototype,_=s(i("2aeb")(m))==p,b="trim"in String.prototype,h=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():d(t,3);var i,c,n,s=t.charCodeAt(0);if(43===s||45===s){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:c=2,n=49;break;case 79:case 111:c=8,n=55;break;default:return+t}for(var r,a=t.slice(2),u=0,f=a.length;u<f;u++)if(r=a.charCodeAt(u),r<48||r>n)return NaN;return parseInt(a,c)}}return+t};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof v&&(_?a(function(){m.valueOf.call(i)}):s(i)!=p)?r(new j(h(t)),i,v):h(t)};for(var P,S=i("9e1e")?u(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;S.length>N;N++)n(j,P=S[N])&&!n(v,P)&&l(v,P,f(j,P));v.prototype=m,m.constructor=v,i("2aba")(c,p,v)}},d5f7:function(e,t,i){"use strict";var c=i("0b54"),n=i.n(c);n.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=project.5a19eda2.js.map