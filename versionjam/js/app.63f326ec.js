(function(e){function t(t){for(var s,r,c=t[0],a=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],o[r]&&d.push(o[r][0]),o[r]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},r={app:0},o={app:0},i=[];function c(e){return a.p+"js/"+({credits:"credits",gameover:"gameover",messages:"messages",mission:"mission","mission-resume":"mission-resume",project:"project","project-resume":"project-resume",scientifics:"scientifics",squads:"squads",stock:"stock"}[e]||e)+"."+{credits:"9701480e",gameover:"9f90c37f",messages:"b48cea47",mission:"f3b201fc","mission-resume":"11ad3a0e",project:"5a19eda2","project-resume":"e64f2bf0",scientifics:"6c2c2771",squads:"83a10a95",stock:"cf83f0b8"}[e]+".js"}function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n={credits:1,gameover:1,messages:1,mission:1,"mission-resume":1,project:1,"project-resume":1,scientifics:1,squads:1,stock:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var s="css/"+({credits:"credits",gameover:"gameover",messages:"messages",mission:"mission","mission-resume":"mission-resume",project:"project","project-resume":"project-resume",scientifics:"scientifics",squads:"squads",stock:"stock"}[e]||e)+"."+{credits:"7184875e",gameover:"6c91e4fe",messages:"aca661a6",mission:"4c5f8125","mission-resume":"857edcb8",project:"d6ef258e","project-resume":"ea94b5cd",scientifics:"29813d98",squads:"7bf86dc0",stock:"2a8abe3d"}[e]+".css",r=a.p+s,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var c=o[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===r))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){c=l[i],u=c.getAttribute("data-href");if(u===s||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var s=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.request=s,n(o)},d.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(d)}).then(function(){r[e]=0}));var s=o[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise(function(t,n){s=o[e]=[t,n]});t.push(s[2]=i);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,a.nc&&d.setAttribute("nonce",a.nc),d.src=c(e),u=function(t){d.onerror=d.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+s+": "+r+")");i.type=s,i.request=r,n[1](i)}o[e]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00f3":function(e,t,n){"use strict";var s=n("1354"),r=n.n(s);r.a},"025e":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});n("28a5");var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return Math.random()<=1/e},r=function(e,t){return Math.floor(e+Math.random()*(t-e+1))},o=function(e){return e[Math.floor(Math.random()*e.length)]},i=function(e){return JSON.parse(JSON.stringify(e))},c={get:function(e){return e instanceof HTMLElement||e===document?e:document.getElementById(e)},set:function(e,t){c.get(e).innerHTML=t},on:function(e,t,n,s){c.get(e).addEventListener(t,n,s)},once:function(e,t,n,s){var r=function r(o){n(o),c.un(e,t,r,s)};c.on(e,t,r,s)},un:function(e,t,n,s){c.get(e).removeEventListener(t,n,s)},show:function(e,t){c.get(e).style.display=t||"block"},hide:function(e){c.get(e).style.display="none"},blur:function(e){e.target.blur()},addClassName:function(e,t){c.toggleClassName(e,t,!0)},removeClassName:function(e,t){c.toggleClassName(e,t,!1)},toggleClassName:function(e,t,n){e=c.get(e);var s=e.className.split(" "),r=s.indexOf(t);n="undefined"==typeof n?r<0:n,n&&r<0?s.push(t):!n&&r>=0&&s.splice(r,1),e.className=s.join(" ")},storage:window.localStorage||{},toggleFullScreen:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(c.toggleClassName("fullscreen","on",!1),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()):(c.toggleClassName("fullscreen","on",!0),document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}}},"0b2c":function(e,t,n){},1210:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d});var s=n("9393"),r=(n("ffc1"),n("ac4d"),n("8a81"),n("ac6a"),n("7f7f"),n("6762"),n("2fdb"),n("7de0")),o=n("c75d"),i=function(e){return r["m"].projectsDone.includes(e.name)},c=function(e,t){e.project=t,e.status="project";var n=t.duree*r["m"].researchTimeFactor*1e3;e.projectDuree=n,e.projectEndTime=Date.now()+n,i(t)||r["m"].projectsDone.push(t.name),Object(o["c"])("MissionStarted")},a=function(e){delete e.projectEndTime,delete e.projectDuree,e.status="idle",e.level+=Math.ceil(e.project.level/3)},u=function(e){Object(o["c"])("MissionComplete");var t=!0,n=!1,s=void 0;try{for(var i,c=e.project.gains[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){var a=i.value;a.effect(r["m"],e)}}catch(e){n=!0,s=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw s}}delete e.project},l=function(e){var t={};return Object.entries(e.ressources).forEach(function(e){var n=Object(s["a"])(e,2),o=n[0],i=n[1];t[o]=Math.ceil(i*(r["m"].ressourcesConsumptionFactor[o]||1))}),t},d=[{name:"Formation",description:"Cours de rattrapage pour mettre à niveau les équipes scientifiques en retard",level:1,duree:180,ressources:{},gains:[{description:"+1 niveau de compétence pour l'équipe scientifique",effect:function(e,t){t.level+=1}}],infinite:!0},{name:"Nouvelle cafetière",description:"Les scientifiques ont besoin de café pour bosser plus vite",level:1,duree:10,gains:[{description:"-5% temps de recherche",effect:function(e){e.researchTimeFactor-=.05}},{description:"+1 niveau de compétence pour les scientifiques",effect:function(e){e.scientifics.forEach(function(e){e.level+=1})}}],ressources:{metal:5,component:2,water:5}},{name:"Vélos énergétiques",description:"Ces vélos couplés à une dynamo produisent de l'énergie pour recharger les batteries usagées, tout en faisant un peu de sport à ces mollusques de scientifiques.",level:1,duree:15,gains:[{description:"+1 unité d'eau consommée par jour",effect:function(e){e.waterPerDay+=1}},{description:"-20% de batteries requises pour les recherches",effect:function(e){e.ressourcesConsumptionFactor.component-=.2}}],ressources:{metal:5,component:2,battery:2}},{name:"Imprimantes 3D",description:"L'acquisition d'imprimantes 3D permet de réduire le nombre de composants requis et d'augmenter l'autonomie de la mission Odyssée.",level:2,duree:25,gains:[{description:"-25% de composants requis pour les recherches",effect:function(e){e.ressourcesConsumptionFactor.component-=.25}}],ressources:{metal:10,battery:3,component:8}},{name:"Kebab lyophilisé",description:"La découverte d'une nouvelle formule pour la sauce blanche permet de compacter et réduire la quantité de nourriture consommée par le personnel",level:3,duree:30,gains:[{description:"+5% chances de succès de la mission Odyssee",effect:function(e){e.missionChanceSucces+=5}},{description:"-20% consommation en nourriture du personnel",effect:function(e){e.ressourcesConsumptionFactor.food-=.2}}],ressources:{food:10,water:5,component:2}},{name:"Scanner",description:"L'ajout d'un scanner permet de détecter les objets spatiaux potentiellement dangereux, et aussi de cartographier les environs de la base pour trouver des raccourcis.",level:3,duree:50,gains:[{description:"+5% chances de succès de la mission Odyssee",effect:function(e){e.missionChanceSucces+=5}},{description:"-10% consommation d'essence par les escouades",effect:function(e){e.ressourcesConsumptionFactor.fuel-=.1}}],ressources:{metal:15,component:10,battery:5}},{name:"Laboratoire embarqué",description:"Intègre un laboratoire au vaisseau, avec plus de matériel à disposition des équipes scientifiques",level:4,duree:60,gains:[{description:"+5% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=5}},{description:"-10% temps de recherche",effect:function(e){e.researchTimeFactor-=.1}},{description:"+1 niveau de compétence pour les scientifiques",effect:function(e){e.scientifics.forEach(function(e){e.level+=1})}}],ressources:{water:15,metal:15,component:12,battery:5}},{name:"Recycleur d'urine",description:"Boire sa pisse n'est pas très apprécié par le personnel, mais permet de grosses économies d'eau",level:5,duree:60,gains:[{description:"-50% consommation en eau du personnel",effect:function(e){e.ressourcesConsumptionFactor.water-=.5}}],ressources:{metal:10,battery:3,component:5,water:10}},{name:"Coque antiradiation",description:"Protège contre les radiations interstellaires, ce qui augmente les chances de succès de la mission Odyssée.",level:5,duree:80,gains:[{description:"+10% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=10}}],ressources:{metal:40,component:5,battery:5,plutonium:5}},{name:"Moteur turbo v12",description:"Ce moteur peut à la fois servir aux propulseurs latéraux du vaisseau et au tuning des jeeps des escouades",level:6,duree:70,gains:[{description:"+20% consommation en essence par les escouades",effect:function(e){e.ressourcesConsumptionFactor.fuel+=.2}},{description:"-30% durée de voyage pour les missions",effect:function(e){e.missionTimeFactor-=.3}}],ressources:{metal:15,battery:2,component:8,fuel:20}},{name:"Panneaux solaires",description:"Permet l'autonomie énergétique du vaisseau Odyssée, et pourrait aussi servir si le réseau électrique venait à tomber ici sur Terre.",level:7,duree:80,gains:[{description:"Energie de secours inépuisable",effect:function(e){e.isImmuneToEnergyFailure=!0}},{description:"+10% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=10}}],ressources:{metal:20,component:10,battery:10}},{name:"Supercalculateur",description:"Cet ordinateur pèse une tonne, mais devrait accélerer considérablement le temps que prennent nos recherches",level:8,duree:100,gains:[{description:"-30% durée des projets de recherche",effect:function(e){e.researchTimeFactor-=.3}}],ressources:{metal:30,battery:8,component:20}},{name:"Caissons de survie",description:"Ces caissons ralentissent les fonctions corporelles de leur hôte, ce qui réduit leurs besoins en nourriture et eau.",level:8,duree:90,gains:[{description:"-1 unité d'eau et de nourriture par jour",effect:function(e){e.foodPerDay-=1,e.waterPerDay-=1}},{description:"+10% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=10}}],ressources:{metal:25,battery:8,component:10}},{name:"Serre hydroponique",description:"Cela mettra du temps, mais devrait nous permettre l'autonomie alimentaire sur Terre comme sur Odyssée.",level:9,duree:100,gains:[{description:"-50 % sur la consommation de nourriture du personnel",effect:function(e){e.ressourcesConsumptionFactor.food-=.5}},{description:"+10% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=10}}],ressources:{metal:20,battery:2,component:15}},{name:"Réacteur nucléaire",description:"Element indisponible du vaisseau Odyssée, il fonctionne au plutonium raffiné.",level:10,duree:100,gains:[{description:"+10% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=10}}],ressources:{metal:20,component:20,fuel:10,plutonium:5}},{name:"Intelligence artificielle",description:"Elle prend vite la grosse tête, mais sait gérer l'intégralité du vaisseau mieux que quiconque.",level:11,duree:120,gains:[{description:"+5% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=5}},{description:"+2 niveaux de compétence pour les scientifiques",effect:function(e){e.scientifics.forEach(function(e){e.level+=1})}}],ressources:{metal:15,component:15,battery:15}},{name:"Armes nucléaires tactiques",description:"Quelques scientifiques ne sont pas convaincus que l'Odyssée doit disposer d'un armement lourd, mais ces armes pourraient aussi être utilisées en dernier recours par les escouades.",level:12,duree:140,gains:[{description:"+5% chances de succès de la mission Odyssée",effect:function(e){e.missionChanceSucces+=5}},{description:"+5 niveaux de compétence pour les escouades",effect:function(e){e.scientifics.forEach(function(e){e.level+=1})}}],ressources:{metal:30,component:20,plutonium:5}}]},1354:function(e,t,n){},"1d81":function(e,t,n){"use strict";var s=n("ce22"),r=n.n(s);r.a},"2fa0":function(e,t,n){"use strict";var s=n("6802"),r=n.n(s);r.a},"2fb7":function(e,t,n){"use strict";var s=n("b053"),r=n.n(s);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i={name:"App"},c=i,a=(n("a5d2"),n("2877")),u=Object(a["a"])(c,r,o,!1,null,null,null);u.options.__file="App.vue";var l=u.exports,d=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Score")],1)},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"score"}},[n("p",[e._v("Chances de succès du projet Odyssée:")]),n("h1",[e._v(e._s(e.missionChanceSucces.toFixed(2))+" %")]),n("p",[e._v("Réserves du vaisseau")]),n("div",{staticClass:"bar food"},[n("div",{staticClass:"barcompleted",style:e.styleBar("food")}),e._v("\n        "+e._s(e.ressources.food)+" "),n("div",{staticClass:"icon food"}),e._v(" / "+e._s(e.reserve.food)+"\n    ")]),n("div",{staticClass:"bar water"},[n("div",{staticClass:"barcompleted",style:e.styleBar("water")}),e._v("\n        "+e._s(e.ressources.water)+" "),n("div",{staticClass:"icon water"}),e._v(" / "+e._s(e.reserve.water)+"\n    ")]),n("div",{staticClass:"bar plutonium"},[n("div",{staticClass:"barcompleted",style:e.styleBar("plutonium")}),e._v("\n        "+e._s(e.ressources.plutonium)+" "),n("div",{staticClass:"icon plutonium"}),e._v(" / "+e._s(e.reserve.plutonium)+"\n    ")]),n("p",[e._v("Technologies développées")]),n("h2",[e._v(e._s(e.projectsDone.length)+" / "+e._s(e.projects.length))]),e.canTakeOff?n("div",{staticClass:"action decollage"},[n("div",{staticClass:"icon rocket"}),n("router-link",{attrs:{to:"/gameover"}},[e._v("Décollage du vaisseau")]),n("small",[e._v("Cette action est irréversible, assurons-nous d'être prêts")])],1):n("div",{staticClass:"action disabled"},[n("a",[e._v("Décollage impossible")]),n("small",[e._v(e._s(e.reasonWhyCantTakeOff))])])])},v=[],h=(n("6762"),n("2fdb"),n("7de0")),g=n("1210"),b={name:"Score",data:function(){return{missionChanceSucces:Object(h["a"])(),ressources:h["m"].ressources,projects:g["d"],projectsDone:h["m"].projectsDone,reserve:h["k"]}},computed:{canTakeOff:function(){return h["m"].projectsDone.includes("Réacteur nucléaire")&&h["m"].ressources.plutonium>=10&&h["m"].ressources.food>=30&&h["m"].ressources.water>=30},reasonWhyCantTakeOff:function(){return h["m"].projectsDone.includes("Réacteur nucléaire")?h["m"].ressources.plutonium<10?"On a besoin de 10 unités de plutonium pour décoller":h["m"].ressources.food<30?"Pas question de partir sans 30 caisses de nourriture au moins":h["m"].ressources.water<30?"Et l'eau ? Il nous faut au moins 30 citernes avant de décoller":void 0:"Il nous faut installer le réacteur nucléaire"}},created:function(){var e=this;this.interval=setInterval(function(){e.missionChanceSucces=Object(h["a"])()},1e3)},destroyed:function(){clearInterval(this.interval)},methods:{styleBar:function(e){var t={food:"rgba(255,85,0,0.25)",water:"rgba(0,150,255,0.25)",plutonium:"rgba(85,255,0,0.25)"},n=100*Math.min(1,this.ressources[e]/this.reserve[e]);return{width:n+"%",backgroundColor:t[e]}}}},y=b,j=(n("00f3"),Object(a["a"])(y,p,v,!1,null,"124c94e6",null));j.options.__file="Score.vue";var C=j.exports,q={name:"home",components:{Score:C}},w=q,_=Object(a["a"])(w,m,f,!1,null,null,null);_.options.__file="Home.vue";var O=_.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"menu"}},[n("h1",[e._v("Apocalypse Manager")]),e.loading?n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"bar"},[n("div",{staticClass:"barcompleted",attrs:{id:"loadingProgress"}}),n("p",[e._v("Loading v"+e._s(e.version)+"...")])])]):n("ul",[n("li",{staticClass:"action"},[n("a",{on:{click:function(t){e.newGame()}}},[e._v("Nouvelle partie")])]),e.hasSavedGame?n("li",{staticClass:"action"},[n("a",{on:{click:function(t){e.continueGame()}}},[e._v("Continuer")])]):e._e(),n("li",{staticClass:"action"},[n("router-link",{attrs:{to:"/credits"}},[e._v("Crédits")])],1)]),n("footer",[e._v("\n    v"+e._s(e.version)+"\n")])])},k=[],E=(n("f751"),n("025e")),x=[],F=["1","2","3","4","5","TitleScreen","FlashInfo","MissionAborted","MissionComplete","MissionFailed","MissionStarted","YouLose","YouWin"],T=function(e){return new Promise(function(t){L(x,F,t,e)})},L=function(e,t,n,s){var r={},o={},i=e.concat(t),c=0,a=0,u=10;function l(){c++,s(c/i.length*100),c>=i.length&&n?(n({images:r,sounds:o}),n=null):a<i.length&&d()}function d(){var t=i[a],n=a<e.length?"image":"sound";switch(a++,n){case"image":r[t]=document.createElement("img"),E["a"].on(r[t],"load",l),E["a"].on(r[t],"error",l),r[t].src="img/"+t+".png";break;case"sound":o[t]=document.createElement("audio"),E["a"].once(o[t],"canplaythrough",l,!1),E["a"].once(o[t],"error",l,!1),o[t].src="audio/"+t+".mp3",document.body.appendChild(o[t]),o[t].load();break}}while(u--)d()},M=n("c75d"),D={name:"Menu",data:function(){return{version:h["n"],loading:!0,hasSavedGame:Object(h["g"])()}},mounted:function(){var e=this;document.getElementById("app").style.backgroundSize="1px",document.getElementById("loadingProgress").style.width="0%",T(this.onProgress).then(function(t){var n=t.sounds;Object.assign(M["a"],n),e.loading=!1,Object(M["b"])("TitleScreen")})},methods:{onProgress:function(e){var t=300*Math.pow(e/100,2);document.getElementById("app").style.backgroundSize=t+"px",document.getElementById("loadingProgress").style.width=e+"%"},newGame:function(){Object(h["i"])(),this.$router.push("/messages")},continueGame:function(){Object(h["h"])(),this.$router.push("/game/")}}},P=D,I=(n("2fb7"),Object(a["a"])(P,S,k,!1,null,"48f3b131",null));I.options.__file="Menu.vue";var N=I.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game"}},[n("countdown"),n("router-view"),n("footer",{attrs:{id:"nav"}},[n("div",{staticClass:"action"},[n("router-link",{attrs:{to:"/game/"}},[e._v("Projet Odyssée")])],1),n("ul",[n("li",{staticClass:"button missions"},[n("router-link",{attrs:{to:"/squads"}},[n("div",{staticClass:"icon"}),e._v("\n        Mission\n        ")])],1),n("li",{staticClass:"button labo"},[n("router-link",{attrs:{to:"/scientifics"}},[n("div",{staticClass:"icon"}),e._v("\n        Labo\n        ")])],1),n("li",{staticClass:"button stock"},[n("router-link",{attrs:{to:"/stock"}},[n("div",{staticClass:"icon"}),e._v("\n        Stock\n        ")])],1),n("li",{staticClass:"button map"},[n("router-link",{attrs:{to:"/messages"}},[n("div",{staticClass:"icon"}),e._v("\n        Com\n        ")])],1)])])],1)},B=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"countdown"},[e._v("\n    "+e._s(e.formattedCountdown)+"\n")])},V=[],R=n("b05b"),z={data:function(){return{timeLeft:h["m"].apocalypseDate-Date.now()}},created:function(){var e=this,t=100;this.timeInterval=setInterval(function(){e.timeLeft=h["m"].apocalypseDate-Date.now();var n=1e3*Math.pow((h["c"]-e.timeLeft)/h["c"],2);if(document.getElementById("app").style.backgroundSize=n+"px",e.timeLeft<0)e.$router.push("/gameover");else{var s=36e4;e.timeLeft<s*(5-h["m"].currentEpoch)&&h["m"].currentEpoch<5&&(Object(h["j"])(),e.$router.push("/messages"));var r=6e4;e.timeLeft%r<t&&Object(h["d"])(function(t){e.$router.push("/gameover/"+t)})}},t)},destroyed:function(){clearInterval(this.timeInterval)},computed:{formattedCountdown:function(){var e=this.timeLeft;return e*=h["m"].speed,Object(R["c"])(e,!0)}}},G=z,J=(n("1d81"),Object(a["a"])(G,$,V,!1,null,null,null));J.options.__file="Countdown.vue";var H=J.exports,U={name:"App",components:{Countdown:H},computed:{},methods:{formatTime:R["c"]},created:function(){h["m"].apocalypseDate||this.$router.push("/"),Object(M["b"])("1"),this.interval=setInterval(function(){return Object(h["l"])()},1e3)},destroyed:function(){clearInterval(this.interval)}},W=U,Y=(n("2fa0"),Object(a["a"])(W,A,B,!1,null,null,null));Y.options.__file="GameScene.vue";var K=Y.exports;s["a"].use(d["a"]);var Q=new d["a"]({routes:[{path:"/",name:"menu",component:N},{path:"/gameover",name:"gameover",component:function(){return n.e("gameover").then(n.bind(null,"29bf"))}},{path:"/credits",name:"credits",component:function(){return n.e("credits").then(n.bind(null,"b096"))}},{path:"/game",component:K,children:[{path:"/",name:"home",component:O},{path:"/stock",name:"stock",component:function(){return n.e("stock").then(n.bind(null,"68e3"))}},{path:"/squads",name:"squads",component:function(){return n.e("squads").then(n.bind(null,"6b17"))}},{path:"/messages",name:"messages",component:function(){return n.e("messages").then(n.bind(null,"eaad"))}},{path:"/mission/:indexSquad",name:"mission",component:function(){return n.e("mission").then(n.bind(null,"486a"))}},{path:"/mission-resume/:indexSquad",name:"mission-resume",component:function(){return n.e("mission-resume").then(n.bind(null,"1202"))}},{path:"/scientifics",name:"scientifics",component:function(){return n.e("scientifics").then(n.bind(null,"175c"))}},{path:"/project/:indexScientific",name:"project",component:function(){return n.e("project").then(n.bind(null,"07bd"))}},{path:"/project-resume/:indexScientific",name:"project-resume",component:function(){return n.e("project-resume").then(n.bind(null,"12db"))}}]}]}),X=n("9483");Object(X["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),s["a"].config.productionTip=!1,new s["a"]({router:Q,render:function(e){return e(l)}}).$mount("#app")},6802:function(e,t,n){},"7de0":function(e,t,n){"use strict";n.d(t,"n",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"m",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return v}),n.d(t,"g",function(){return h}),n.d(t,"j",function(){return b});n("f751"),n("cadf"),n("551c"),n("097d");var s=n("c75d"),r="0.4",o=18e5,i={},c=function(e){i.ressources.food-=a(),i.ressources.water-=u(),i.ressources.food<0?i.squads.length>0?(i.squads.pop(),g({title:"Pénurie de nourriture",text:"Les stocks de nourriture sont vides. Une escouade a quitté la base pour en chercher, mais je ne crois pas qu'on les verra revenir."})):i.scientifics.length>0?(i.scientifics.pop(),g({title:"On a faim !",text:"Les scientifiques sont affamés à lécher les murs. Une équipe a déserté et tente sa chance dans la ville d'à côté. Mais ils n'ont aucune chance de s'en sortir."})):e("food"):i.ressources.water<0&&(i.squads.length>0?(i.squads.pop(),g({title:"Pénurie d'eau",text:"Les escouades réclament à boire ! La dernière citerne est vide, une équipe a déserté pour se diriger vers la rivière."})):i.scientifics.length>0?(i.scientifics.pop(),g({title:"De l'eau !",text:"Les scientifiques sont déshydratés et ne parviennent plus à travailler. Une des équipes a quitté la base après que plusieurs d'entre eux aient perdu connaissance."})):e("water")),i.ressources.food<0&&(i.ressources.food=0),i.ressources.water<0&&(i.ressources.water=0)},a=function(){return i.squads.length+i.scientifics.length+i.foodPerDay},u=function(){return i.squads.length+i.scientifics.length+i.waterPerDay},l=function(){return i.missionChanceSucces+15*Math.min(1,i.ressources.plutonium/d.plutonium)+5*Math.min(1,i.ressources.water/d.water)+5*Math.min(1,i.ressources.food/d.food)},d={food:100,water:100,plutonium:30},m=function(){Object.assign(i,{currentEpoch:1,apocalypseDate:Date.now()+o,speed:1440,researchTimeFactor:1,missionTimeFactor:1,missionChanceSucces:0,foodPerDay:0,waterPerDay:0,ressources:{food:10,water:10,fuel:10,metal:5,component:2,battery:1,plutonium:0},ressourcesConsumptionFactor:{food:1,water:1,fuel:1,metal:1,battery:1,component:1,plutonium:1},messages:[{title:"Mission Odyssée",text:"Votre mission : donner un espoir à l'humanité en lançant le vaisseau Odyssée avant que l'astéroïde D347H ne vienne s'écraser sur Terre et empêcher toute vie humaine pour les 3 siècles à venir. Le temps presse, les chances sont minces, et le reste du monde s'embrase avant sa prochaine extinction. Vos équipes, scientifiques et hommes de terrain, ont 30 jours pour transformer une navette de tourisme spatial en un vaisseau générationnel capable d'héberger ce qui reste de l'humanité pendant que la Terre se remette de ce cataclysme inévitable."}],squads:[{level:1,status:"idle"},{level:1,status:"idle"},{level:1,status:"idle"}],scientifics:[{level:2,status:"idle"},{level:1,status:"idle"}],projectsDone:[]})},f=function(){localStorage.setItem("SAVE_V".concat(r),JSON.stringify(i))},p=function(){Object.assign(i,JSON.parse(localStorage.getItem("SAVE_V".concat(r))))},v=function(){localStorage.removeItem("SAVE_V".concat(r))},h=function(){return null!=localStorage.getItem("SAVE_V".concat(r))},g=function(e){Object(s["c"])("FlashInfo"),i.messages.push(e),document.querySelector(".button.map").classList.add("new")},b=function(){if(i.currentEpoch++,!(i.currentEpoch>=6))switch(Object(s["d"])(),i.currentEpoch){case 2:g({title:"Message prioritaire",text:"Ici le général Hammond. La situation est grave. Notre plan de contremesure nucléaire face à l'astéroïde ne peut pas être mis à exécution. Les missiles n'ont pas la vitesse et les capacités techniques d'atteindre la météorite suffisamment loin pour éviter le drame. La population l'ignore encore, et pourvu que ça dure."}),setTimeout(function(){return Object(s["b"])("2")},6e3);break;case 3:g({title:"Flash spécial",text:"Une source interne au gouvernement nous informe que le plan de destruction de la météorite ne peut pas fonctionner. Le président refuse de répondre à nos questions et a été déplacé dans un endroit inconnu du public. Alors que les gens s'affolent et que les incidents se multiplient, certains refusent d'y croire, prétendant un complot ou une fake news comme en 2012."}),setTimeout(function(){return Object(s["b"])("3")},6e3);break;case 4:g({title:"La météorite visible du ciel",text:"Il n'y a désormais plus aucun doute possible alors que la météorite est désormais visible avec un téléscope classique. Les scientifiques disent qu'elle sera visible à l'oeil nu d'ici quelques jours. Les émeutes sont de plus en plus violentes, des groupes armés et des sectes mettent à sacs la plupart des grandes villes."}),setTimeout(function(){return Object(s["b"])("4")},6e3);break;case 5:g({title:"Que Dieu nous vienne en aide",text:"C'est la phrase prononcée en toutes les langues par les dirigeants du monde entier. Toutes les solutions envisagées ont échoué. Des rumeurs tournent autour d'un vaisseau spatial mais elles ne semblent pas crédibles. La société est à l'arrêt et on reporte de graves défaillances, notamment la centrale nucléaire qui émettrait d'importantes fumées radioactives. Mais plus personne n'y prête attention désormais. Ceci est notre dernière transmission, nous allons rejoindre nos familles. Adieu et bonne chance."}),setTimeout(function(){return Object(s["b"])("5")},6e3);break}}},a5d2:function(e,t,n){"use strict";var s=n("0b2c"),r=n.n(s);r.a},b053:function(e,t,n){},b05b:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var s=["Alpha","Bravo","Charlie","Delta","Echo","Foxtrot","Golf","Hotel","India","Juliet","Kilo","Lima","Mike","November","Oscar","Papa","Quebec","Romeo","Sierra","Tango","Uniform","Victor","Whiskey","X-ray","Yankee","Zulu"],r=["alpha","bêta","gamma","delta","epsilon","zêta","êta","thêta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rhô","sigma","tau","upsilon","phi","khi","psi","ôméga"],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.floor(e/864e5);e%=864e5;var s=Math.floor(e/36e5);s=("0"+s).slice(-2),e%=36e5;var r=Math.floor(e/6e4);r=("0"+r).slice(-2),e%=6e4;var o=Math.floor(e/1e3);o=("0"+o).slice(-2);var i=[];return n>0&&i.push("".concat(n," jours")),s>0||t?i.push("".concat(s,": ").concat(r)):i.push("".concat(r,": ").concat(o)),i.join(" ")}},c75d:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c});var s,r={},o=function(){s&&(s.pause(),s.currentTime=0)},i=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r[e])return console.error("musique non trouvée ?",e);o(),s=r[e],s.volume=.7,s.loop=t;try{s.play()}catch(e){console.error(e)}},c=function(e){try{r[e].cloneNode(!0).play()}catch(e){console.error(e)}}},ce22:function(e,t,n){}});
//# sourceMappingURL=app.63f326ec.js.map