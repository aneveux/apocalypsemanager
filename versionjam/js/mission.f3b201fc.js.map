{"version":3,"sources":["webpack:///./src/views/Mission.vue?1fee","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./src/views/Mission.vue?11b2","webpack:///src/views/Mission.vue","webpack:///./src/views/Mission.vue?b896","webpack:///./src/views/Mission.vue","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./src/components/Squad.vue?31dc","webpack:///src/components/Squad.vue","webpack:///./src/components/Squad.vue?fa2c","webpack:///./src/components/Squad.vue","webpack:///./src/missions.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./src/ressources.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./src/components/Squad.vue?53d7","webpack:///./node_modules/core-js/modules/_string-ws.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Mission_vue_vue_type_style_index_0_id_4bb2ad2e_lang_postcss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Mission_vue_vue_type_style_index_0_id_4bb2ad2e_lang_postcss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","toObject","$keys","it","render","_vm","this","_h","$createElement","_c","_self","attrs","id","indexSquad","_v","_l","mission","i","selectedMission","_e","key","class","selected","on","click","$event","staticClass","_s","name","description","val","distance","insufficient","level","squad","directives","rawName","value","expression","modifiers","number","type","min","max","domProps","__r","dureeMission","_n","target","blur","$forceUpdate","hasRessources","_obj","requiredRessources","startMission","staticRenderFns","Missionvue_type_script_lang_js_","components","Squad","data","missions","computed","parseInt","$route","params","Object","canStartMission","ressources","game","squads","methods","$router","push","views_Missionvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","isObject","setPrototypeOf","set","module","exports","that","C","P","S","constructor","prototype","$export","core","fails","KEY","exec","fn","exp","F","status","getSquadMissionTimeLeft","missionResume","to","getSquadName","Squadvue_type_script_lang_js_","props","showStatus","Boolean","default","Number","t","Date","now","labels","formatTime","missionEndTime","timeLeft","created","_this","tInterval","setInterval","destroyed","clearInterval","components_Squadvue_type_script_lang_js_","duree","_game__WEBPACK_IMPORTED_MODULE_7__","missionTimeFactor","missionDuree","missionDifficulty","currentEpoch","_audio__WEBPACK_IMPORTED_MODULE_9__","endMission","probaSucces","missionResult","probaSuccess","resume","levelGain","Math","random","_utils__WEBPACK_IMPORTED_MODULE_6__","scientific","calcRessourcesObtained","probaDeath","_ressources__WEBPACK_IMPORTED_MODULE_8__","scientifics","splice","indexOf","calcRequiredRessources","water","ceil","ressourcesConsumptionFactor","food","fuel","obtained","assign","factor","keys","forEach","res","randomGain","round","metal","battery","plutonium","anObject","check","O","proto","TypeError","test","buggy","Function","call","f","Array","e","__proto__","undefined","defined","spaces","space","non","ltrim","RegExp","rtrim","exporter","ALIAS","FORCE","trim","string","TYPE","String","replace","entries","every","_ref","_ref2","W_games_apocalypsemanager_node_modules_babel_runtime_helpers_builtin_es6_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","nb","_game__WEBPACK_IMPORTED_MODULE_3__","takeRessources","_ref3","_ref4","getRessources","_ref5","_ref6","global","has","cof","inheritIfRequired","toPrimitive","gOPN","gOPD","dP","$trim","NUMBER","$Number","Base","BROKEN_COF","TRIM","toNumber","argument","length","third","radix","maxCode","first","charCodeAt","NaN","code","digits","slice","l","arguments","valueOf","split","j","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Squad_vue_vue_type_style_index_0_id_0c8d46da_lang_postcss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Squad_vue_vue_type_style_index_0_id_0c8d46da_lang_postcss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/mission.f3b201fc.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mission.vue?vue&type=style&index=0&id=4bb2ad2e&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mission.vue?vue&type=style&index=0&id=4bb2ad2e&lang=postcss&scoped=true&\"","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mission\"}},[_c('ul',[_c('Squad',{attrs:{\"indexSquad\":_vm.indexSquad}})],1),_c('h1',[_vm._v(\"Choix de la mission\")]),_c('ul',_vm._l((_vm.missions),function(mission,i){return (!_vm.selectedMission || _vm.selectedMission === mission)?_c('li',{key:i,class:['mission', { selected: _vm.selectedMission === mission }],on:{\"click\":function($event){_vm.selectedMission ? _vm.selectedMission = null : _vm.selectedMission = mission}}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(mission.name))]),(_vm.selectedMission === mission)?_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(mission.description))]):_vm._e(),_c('p',{staticClass:\"ressources\"},[_vm._v(\"Ressources récupérables:\\n                \"),_c('ul',[_vm._l((mission.ressources),function(val,key){return _c('li',{key:key},[_c('div',{class:['icon', key]})])}),(mission.squad)?_c('li',[_c('div',{staticClass:\"icon squad\"})]):_vm._e(),(mission.scientific)?_c('li',[_c('div',{staticClass:\"icon scientific\"})]):_vm._e()],2)]),_c('p',{staticClass:\"level\"},[_vm._v(\"\\n              Distance: \"+_vm._s(mission.distance)+\" km -\\n              Niveau de compétence recommandé:\\n              \"),_c('span',{class:{ insufficient: mission.level > _vm.squad.level }},[_vm._v(_vm._s(mission.level))])])]):_vm._e()})),(_vm.selectedMission)?[_c('h1',[_vm._v(\"Durée de la mission\")]),_c('div',{staticClass:\"params\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.dureeMission),expression:\"dureeMission\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"name\":\"dureemission\",\"id\":\"dureemission\",\"min\":\"1\",\"max\":\"5\"},domProps:{\"value\":(_vm.dureeMission)},on:{\"__r\":function($event){_vm.dureeMission=_vm._n($event.target.value)},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('span',{staticClass:\"duree\"},[_vm._v(_vm._s(_vm.dureeMission)+\" h\")]),_c('p',{staticClass:\"ressources\"},[_vm._v(\"Ressources requises:\\n            \"),_c('ul',_vm._l((_vm.requiredRessources),function(val,key){return _c('li',{key:key,class:{ insufficient: !_vm.hasRessources(( _obj = {}, _obj[key] = val, _obj )) }},[(val > 0)?[_vm._v(\"\\n                      \"+_vm._s(val)+\" \"),_c('div',{class:['icon', key]})]:_vm._e()],2)\nvar _obj;}))])]),(!_vm.hasRessources(_vm.requiredRessources))?_c('div',{staticClass:\"action disabled\"},[_c('a',[_vm._v(\"Ressources insuffisantes\")])]):_vm._e(),(_vm.canStartMission)?_c('div',{staticClass:\"action\"},[_c('a',{on:{\"click\":function($event){_vm.startMission()}}},[_vm._v(\"Lancer la mission\")])]):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"mission\">\n        <ul>\n            <Squad :indexSquad=\"indexSquad\" />\n        </ul>\n        <h1>Choix de la mission</h1>\n        <ul>\n            <li v-for=\"(mission,i) in missions\" :key=\"i\"\n                v-if=\"!selectedMission || selectedMission === mission\"\n                :class=\"['mission', { selected: selectedMission === mission }]\"\n                @click=\"selectedMission ? selectedMission = null : selectedMission = mission\">\n                <span class=\"name\">{{mission.name}}</span>\n                <p class=\"description\" v-if=\"selectedMission === mission\">{{mission.description}}</p>\n                <p class=\"ressources\">Ressources récupérables:\n                    <ul>\n                        <li v-for=\"(val,key) in mission.ressources\" :key=\"key\">\n                            <div :class=\"['icon', key]\"></div>\n                        </li>\n                        <li v-if=\"mission.squad\"><div class=\"icon squad\"></div></li>\n                        <li v-if=\"mission.scientific\"><div class=\"icon scientific\"></div></li>\n                    </ul>\n                </p>\n                <p class=\"level\">\n                  Distance: {{mission.distance}} km -\n                  Niveau de compétence recommandé:\n                  <span :class=\"{ insufficient: mission.level > squad.level }\">{{mission.level}}</span>\n                  </p>\n            </li>\n        </ul>\n        <template v-if=\"selectedMission\">\n        <h1>Durée de la mission</h1>\n        <div class=\"params\">\n        <input type=\"range\" name=\"dureemission\" id=\"dureemission\" min=\"1\" max=\"5\"\n            v-model.number=\"dureeMission\">\n            <span class=\"duree\">{{dureeMission}} h</span>\n\n            <p class=\"ressources\">Ressources requises:\n                <ul>\n                    <li v-for=\"(val,key) in requiredRessources\" :key=\"key\"\n                        :class=\"{ insufficient: !hasRessources({ [key]: val }) }\">\n                        <template v-if=\"val > 0\">\n                          {{val}} <div :class=\"['icon', key]\"></div>\n                        </template>\n                    </li>\n                </ul>\n            </p>\n        </div>\n\n        <div class=\"action disabled\" v-if=\"!hasRessources(requiredRessources)\">\n          <a>Ressources insuffisantes</a>\n        </div>\n        <div class=\"action\" v-if=\"canStartMission\">\n            <a @click=\"startMission()\">Lancer la mission</a>\n        </div>\n\n         </template>\n    </div>\n</template>\n\n<script>\nimport Squad from \"@/components/Squad.vue\";\nimport { missions, calcRequiredRessources, startMission } from \"@/missions.js\";\nimport { hasRessources, takeRessources } from \"@/ressources.js\";\nimport { state } from \"@/game.js\";\n\nexport default {\n  name: \"Mission\",\n  components: { Squad },\n\n  data() {\n    return {\n      missions,\n      selectedMission: null,\n      dureeMission: 1\n    };\n  },\n\n  computed: {\n    indexSquad() {\n      return parseInt(this.$route.params.indexSquad);\n    },\n    requiredRessources() {\n      return calcRequiredRessources(this.selectedMission, this.dureeMission);\n    },\n    canStartMission() {\n      return this.selectedMission && hasRessources(this.requiredRessources);\n    },\n    squad() {\n      return state.squads[this.indexSquad];\n    }\n  },\n\n  methods: {\n    hasRessources,\n\n    startMission() {\n      takeRessources(this.requiredRessources);\n      startMission(this.squad, this.selectedMission, this.dureeMission);\n      this.$router.push(\"/squads\");\n    }\n  }\n};\n</script>\n\n<style lang=\"postcss\" scoped>\n.ressources ul {\n  display: inline-block;\n  vertical-align: text-bottom;\n\n  margin-left: 0.5em;\n\n  li {\n    display: inline-block;\n    vertical-align: text-bottom;\n\n    .icon {\n      display: inline-block;\n      width: 24px;\n      height: 24px;\n      background-size: 24px 24px;\n      margin: 0 0.5em 0 0;\n      vertical-align: middle;\n    }\n  }\n}\n\n.mission {\n  min-height: 96px;\n  background-image: url(\"../assets/mission.png\");\n  background-size: 100% 100%;\n  text-align: left;\n  padding: 4px 64px 12px 16px;\n  position: relative;\n\n  &.selected::after {\n    content: url(\"../assets/icon-tick.png\");\n    position: absolute;\n    right: 16px;\n    top: 24px;\n  }\n\n  p {\n    line-height: 1;\n    font-size: 0.8em;\n    margin-bottom: 4px;\n  }\n}\n\n.params {\n  background-image: url(\"../assets/mission.png\");\n  background-size: 100% 100%;\n  padding: 4px 16px;\n  min-height: 96px;\n\n  .duree {\n    margin-left: 1em;\n    padding: 0.25em;\n    display: inline-block;\n  }\n\n  .ressources {\n    text-align: left;\n  }\n}\n\n.insufficient {\n  color: red;\n}\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mission.vue?vue&type=template&id=4bb2ad2e&scoped=true&\"\nimport script from \"./Mission.vue?vue&type=script&lang=js&\"\nexport * from \"./Mission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Mission.vue?vue&type=style&index=0&id=4bb2ad2e&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bb2ad2e\",\n  null\n  \n)\n\ncomponent.options.__file = \"Mission.vue\"\nexport default component.exports","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"squad\"},[_c('div',{staticClass:\"icon squad\"}),(_vm.showStatus)?_c('div',{class:['status', _vm.squad.status]},[(_vm.squad.status === 'mission')?_c('div',[_c('p',[_vm._v(\"Mission\")]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getSquadMissionTimeLeft(_vm.squad)))])]):(_vm.squad.status === 'missionSuccess')?_c('div',{on:{\"click\":function($event){_vm.missionResume()}}},[_c('p',[_vm._v(\"Mission accomplie\")])]):(_vm.squad.status === 'missionFail')?_c('div',{on:{\"click\":function($event){_vm.missionResume()}}},[_c('div',{staticClass:\"icon fail\"})]):(_vm.squad.status === 'dead')?_c('div',{on:{\"click\":function($event){_vm.missionResume()}}},[_c('div',{staticClass:\"icon dead\"})]):_c('div',[_c('p',[_c('router-link',{attrs:{\"to\":'mission/'+_vm.indexSquad}},[_vm._v(\"Nouvelle mission\")])],1)])]):_vm._e(),_c('span',{staticClass:\"name\"},[_vm._v(\"Escouade \"+_vm._s(_vm.getSquadName(_vm.indexSquad)))]),_c('p',{staticClass:\"level\"},[_vm._v(\"Niveau de compétence: \"+_vm._s(_vm.squad.level))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<li class=\"squad\">\n    <div class=\"icon squad\"></div>\n    <div :class=\"['status', squad.status]\" v-if=\"showStatus\">\n        <div v-if=\"squad.status === 'mission'\">\n            <p>Mission</p>\n            <span class=\"time\">{{getSquadMissionTimeLeft(squad)}}</span>\n        </div>\n        <div v-else-if=\"squad.status === 'missionSuccess'\" @click=\"missionResume()\">\n            <p>Mission accomplie</p>\n        </div>\n        <div v-else-if=\"squad.status === 'missionFail'\" @click=\"missionResume()\">\n            <div class=\"icon fail\"></div>\n        </div>\n        <div v-else-if=\"squad.status === 'dead'\" @click=\"missionResume()\">\n            <div class=\"icon dead\"></div>\n        </div>\n        <div v-else>\n            <p>\n            <router-link :to=\"'mission/'+indexSquad\">Nouvelle mission</router-link>\n            </p>\n        </div>\n    </div>\n    <span class=\"name\">Escouade {{getSquadName(indexSquad)}}</span>\n    <p class=\"level\">Niveau de compétence: {{squad.level}}</p>\n</li>\n</template>\n\n<script>\nimport { alphabetMilitaire, formatTime } from \"@/labels\";\nimport { endMission } from \"@/missions\";\nimport { state } from \"@/game\";\n\nexport default {\n  name: \"Squad\",\n  props: {\n    showStatus: { type: Boolean, default: false },\n    indexSquad: Number\n  },\n  data() {\n    return {\n      t: Date.now()\n    };\n  },\n  computed: {\n    squad() {\n      return state.squads[this.indexSquad];\n    }\n  },\n  methods: {\n    getSquadName: i => alphabetMilitaire[i],\n    formatTime: formatTime,\n    getSquadMissionTimeLeft(squad) {\n      if (!squad.missionEndTime) return \"\";\n      let timeLeft = squad.missionEndTime - this.t;\n      if (timeLeft <= 0) {\n        endMission(squad);\n      }\n      return formatTime(timeLeft);\n    },\n\n    missionResume() {\n      this.$router.push(\"/mission-resume/\" + this.indexSquad);\n    }\n  },\n\n  created() {\n    this.tInterval = setInterval(() => {\n      this.t = Date.now();\n    }, 1000);\n  },\n\n  destroyed() {\n    clearInterval(this.tInterval);\n  }\n};\n</script>\n\n<style lang=\"postcss\" scoped>\nli.squad {\n  display: block;\n  background-image: url(\"../assets/squad.png\");\n  background-size: 100% 100%;\n  height: 96px;\n  text-align: left;\n  overflow: hidden;\n\n  .icon.squad {\n    float: left;\n    margin: 24px 16px;\n  }\n\n  .icon {\n    width: 48px;\n    height: 48px;\n    margin: 8px 16px;\n    display: inline-block;\n  }\n\n  .name {\n    display: block;\n    padding-top: 10px;\n  }\n\n  .level {\n  }\n\n  .status {\n    cursor: pointer;\n    width: 96px;\n    height: 89px;\n    float: right;\n    text-align: center;\n    background-color: rgba(255, 255, 255, 0.25);\n    padding: 10px 0;\n    margin: 2px 0px;\n    line-height: 1.3;\n    box-shadow: -4px 0 4px rgba(0, 0, 0, 0.5);\n\n    .time {\n      display: block;\n      margin: 0.25em 0;\n    }\n\n    p {\n      padding: 0;\n    }\n  }\n\n  .status.missionSuccess {\n    background-color: rgba(1, 195, 25, 0.25);\n  }\n  .status.missionFail {\n    background-color: rgba(195, 30, 30, 0.25);\n  }\n  .status.dead {\n    background-color: rgba(255, 50, 50, 0.5);\n  }\n  .status.idle {\n    background-color: rgba(195, 195, 25, 0.15);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Squad.vue?vue&type=template&id=0c8d46da&scoped=true&\"\nimport script from \"./Squad.vue?vue&type=script&lang=js&\"\nexport * from \"./Squad.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Squad.vue?vue&type=style&index=0&id=0c8d46da&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c8d46da\",\n  null\n  \n)\n\ncomponent.options.__file = \"Squad.vue\"\nexport default component.exports","import { coinflip, randomBetween, pickRandom } from \"@/utils\";\nimport { state } from \"@/game\";\nimport { getRessources } from \"@/ressources\";\nimport { playSound } from \"./audio\";\n\nexport const startMission = (squad, mission, dureeMission) => {\n    squad.status = \"mission\";\n    squad.mission = mission;\n    let duree = (mission.distance + dureeMission) * state.missionTimeFactor * 1000 * 10;\n    squad.missionDuree = dureeMission\n    squad.missionEndTime = Date.now() + duree\n    squad.missionDifficulty = (mission.level + state.currentEpoch) * (5 + dureeMission) / 5\n    playSound(\"MissionStarted\")\n}\n\nexport const endMission = squad => {\n    delete squad.missionEndTime;\n\n    let probaSucces = (4 + squad.level) / (5 + squad.missionDifficulty)\n\n    squad.missionResult = {\n        probaSuccess: probaSucces,\n        resume: [],\n        levelGain: 0\n    }\n\n    if (Math.random() <= probaSucces) {\n        squad.status = \"missionSuccess\";\n\n        squad.missionResult.levelGain += 1; // expérience de la mission\n\n        squad.missionResult.resume.push(pickRandom([\n            \"Aucune activité à signaler\",\n            \"Comme sur des roulettes\",\n            \"Un vrai jeu d'enfant\"\n        ]))\n\n        if (coinflip(3)) {\n            squad.missionResult.resume.push(\"On a trouvé des armes pour mieux se défendre lors des prochaines missions.\")\n            squad.missionResult.levelGain += randomBetween(1, 2)\n        }\n        if (coinflip(8)) {\n            squad.missionResult.resume.push(\"On a trouvé des rescapés prêts à rejoindre nos rangs\")\n            squad.missionResult.levelGain += randomBetween(2, 4)\n        }\n        if (coinflip(2) && squad.mission.squad) {\n            squad.missionResult.resume.push(pickRandom([\n                \"On a trouvé des rescapés prêts à rejoindre nos rangs.\",\n                \"Certains hommes se sont dit prêts à se battre pour nous.\",\n                \"Quelques bras cassés tiennent à nous aider, peut-être on en fera quelque-chose...\"\n            ]))\n            squad.missionResult.squad = randomBetween(1, squad.mission.squad)\n        }\n        if (coinflip(3) && squad.mission.scientific) {\n            squad.missionResult.resume.push(pickRandom([\n                \"Ces scientifiques se cachaient sous les tables quand on est arrivés. Ils disent qu'ils peuvent nous aider.\",\n                \"On a trouvé plusieurs barbus en blouse là-bas. Ils pourraient aider au projet.\",\n                \"Des matheux estiment notre probabilité de survivre à 12%, mais prétendent qu'elles montent à 93% si on les emmène avec nous.\"\n            ]))\n            squad.missionResult.scientific = randomBetween(squad.mission.scientific - 3, squad.mission.scientific)\n        }\n\n        squad.missionResult.ressources = calcRessourcesObtained(squad.mission.ressources, squad.missionDuree, probaSucces)\n    } else {\n        let probaDeath = 0.5 * (1 - probaSucces)\n        if (Math.random() <= probaDeath) {\n            squad.status = \"dead\";\n            squad.missionResult.resume.push(pickRandom([\n                \"Nous avons perdu le contact avec l'escouade. Aucune idée de ce qu'ils sont devenus\",\n                \"Cette secte a lavé le cerveau de la moitié de l'équipe. Les autres ont été abattus par leur gourou.\",\n                \"Un groupe armé local a tendu une embuscade à l'escouade. Il n'y a aucun survivant.\"\n            ]))\n        } else {\n            squad.status = \"missionFail\";\n            squad.missionResult.resume.push(pickRandom([\n                \"Une bande armée nous est tombée dessus. On a rien pu faire pour garder le stock\",\n                \"Les gens sont fous. Dès qu'ils ont vu notre stock, ils se sont rués sur nous. On a du fuir avant qu'il y ait des morts.\",\n                \"L'endroit était occupé par trop de forces hostiles, impossible de s'en rapprocher.\"\n            ]))\n        }\n    }\n}\n\nexport const missionResume = (squad) => {\n    delete squad.mission;\n\n    switch (squad.status) {\n        case \"missionSuccess\":\n            playSound(\"MissionComplete\")\n            getRessources(squad.missionResult.ressources);\n            squad.level += squad.missionResult.levelGain;\n            if (squad.missionResult.squad) {\n                state.squads.push({\n                    level: squad.missionResult.squad,\n                    status: \"idle\"\n                })\n            }\n            if (squad.missionResult.scientific) {\n                state.scientifics.push({\n                    level: squad.missionResult.scientific,\n                    status: \"idle\"\n                })\n            }\n            squad.status = \"idle\";\n            break;\n        case \"missionFail\":\n            playSound(\"MissionAborted\")\n            squad.level = Math.max(1, squad.level - randomBetween(1, 3));\n            squad.status = \"idle\";\n            break;\n        case \"dead\":\n            playSound(\"MissionFailed\")\n            state.squads.splice(state.squads.indexOf(squad), 1);\n            break;\n    }\n\n    delete squad.missionResult\n}\n\nexport const calcRequiredRessources = (mission, duree) => {\n    if (!mission) return {};\n    return {\n        water: Math.ceil((mission.distance + duree) * state.ressourcesConsumptionFactor.water),\n        food: Math.ceil((mission.distance + duree) / 2 * state.ressourcesConsumptionFactor.food),\n        fuel: Math.ceil(mission.distance * state.ressourcesConsumptionFactor.fuel)\n    }\n}\n\nexport const calcRessourcesObtained = (ressources, duree, probaSucces) => {\n    if (!ressources) return {};\n    let obtained = Object.assign({}, ressources);\n    let factor = Math.max(1, (1 + duree) * 0.25 * probaSucces);\n    Object.keys(obtained).forEach(res => {\n        let randomGain = Math.round(obtained[res] * factor + randomBetween(-duree, duree) * 0.8);\n        obtained[res] = Math.max(0, obtained[res] + randomGain)\n    })\n    return obtained\n}\n\nexport const missions = [\n    {\n        name: \"Résidence abandonnée\",\n        description: \"Cette vieille maison juste à côté doit sûrement contenir quelques ressources utiles\",\n        level: 1,\n        distance: 0,\n        ressources: {\n            food: 3,\n            water: 5,\n            metal: 1,\n            component: 1\n        }\n    },\n    {\n        name: \"Décharge\",\n        description: \"Récupérez le métal et les composants utiles, et siphonnez tous les véhicules que vous trouvez\",\n        level: 3,\n        distance: 1,\n        ressources: {\n            fuel: 5,\n            metal: 10,\n            component: 5,\n            battery: 2\n        }\n    },\n    {\n        name: \"Supermarché\",\n        description: \"En espérant que ce supermarché n'a pas encore été complètement pillé\",\n        level: 5,\n        distance: 3,\n        ressources: {\n            food: 10,\n            water: 15,\n            fuel: 10,\n            component: 3,\n            battery: 3\n        }\n    },\n    {\n        name: \"Université\",\n        description: \"L'université est assez loin d'ici, mais notre meilleure chance de recruter des cerveaux\",\n        level: 8,\n        distance: 8,\n        ressources: {\n            food: 4,\n            water: 4,\n            component: 2\n        },\n        scientific: 6\n    },\n    {\n        name: \"Prison\",\n        description: \"Il nous faut un maximum d'hommes prêts à tout. Des prisonniers seraient prêts à nous aider si on leur promet une voie de sortie à ce merdier.\",\n        level: 10,\n        distance: 6,\n        ressources: {\n            metal: 2,\n            food: 4,\n            water: 4,\n        },\n        squad: 5\n    },\n    {\n        name: \"Centrale nucléaire\",\n        description: \"Avec les fuites radioactives, c'est probablement un voyage en aller simple. Mais il nous faut absolument ce plutonium !\",\n        level: 15,\n        distance: 5,\n        ressources: {\n            metal: 4,\n            component: 5,\n            battery: 4,\n            plutonium: 3\n        },\n        scientific: 10\n    }\n]","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","import { state } from \"@/game\"\n\nexport const hasRessources = ressources => {\n    return Object.entries(ressources).every(([res, nb]) => state.ressources[res] >= nb)\n}\n\nexport const takeRessources = ressources => {\n    Object.entries(ressources).forEach(([res, nb]) => {\n        state.ressources[res] -= nb;\n    })\n}\n\nexport const getRessources = ressources => {\n    Object.entries(ressources).forEach(([res, nb]) => {\n        state.ressources[res] += nb;\n    })\n}\n\nexport const ressources = {\n    water: {\n        name: \"Eau\",\n        description: \"consommée par les équipes ou utilisée en laboratoire\"\n    },\n    food: {\n        name: \"Nourriture\",\n        description: \"il faut bien nourrir tous les gens de cette base\"\n    },\n    fuel: {\n        name: \"Carburant\",\n        description: \"nécessaire au déplacement des escouades\"\n    },\n    metal: {\n        name: \"Métaux\",\n        description: \"matière première composant de nombreux objets\"\n    },\n    battery: {\n        name: \"Batteries\",\n        description: \"alimentation de nombreux appareils et énergie de secours\"\n    },\n    component: {\n        name: \"Composants\",\n        description: \"sert à la fabrication d'appareils plus ou moins complexes\"\n    },\n    plutonium: {\n        name: \"Plutonium\",\n        description: \"carburant principal des réacteurs\"\n    }\n}","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=style&index=0&id=0c8d46da&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=style&index=0&id=0c8d46da&lang=postcss&scoped=true&\"","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}